project_id = "${PROJECT_ID}"
region     = "${REGION}"

# GitHub repository for Workload Identity Federation
# Format: "owner/repo" (e.g., "username/my-repo")
github_repository = "${GITHUB_REPO}"

# Workload Identity Pool ID (includes competition name to avoid conflicts)
workload_identity_pool_id = "github-${KAGGLE_COMPETITION_NAME}"

service_accounts = {
  vertex_ai = {
    account_id   = "vertex-ai-custom-training-job"
    display_name = "Vertex AI Service Account"
    description  = "Service account for Vertex AI custom training jobs"
    roles = [
      "roles/aiplatform.user",
      "roles/storage.objectAdmin",
      "roles/artifactregistry.reader"
    ]
  }
  github_actions = {
    account_id   = "github-actions"
    display_name = "GitHub Actions Service Account"
    description  = "Service account for GitHub Actions with Workload Identity Federation"
    roles = [
      "roles/cloudbuild.builds.builder",
      "roles/artifactregistry.writer",
      "roles/storage.objectAdmin",
      "roles/aiplatform.user",
      "roles/iam.serviceAccountUser",
      "roles/viewer"
    ]
  }
}

gcs_buckets = {
  kaggle_competition_artifacts = {
    name                        = "${BUCKET_NAME}"
    location                    = "${REGION}"
    storage_class               = "STANDARD"
    versioning_enabled          = true
    uniform_bucket_level_access = true
  }
}

artifact_registries = {
  kaggle_competition_artifacts = {
    repository_id = "kaggle-competition-artifacts"
    location      = "${REGION}"
    format        = "DOCKER"
  }
}
